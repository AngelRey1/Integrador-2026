<div class="reserva-page-container">
  <!-- Estado de carga -->
  <div class="reserva-card" *ngIf="cargandoEntrenador">
    <div class="loading-state">
      <nb-spinner status="primary" size="large"></nb-spinner>
      <p>Cargando informaci贸n del entrenador...</p>
    </div>
  </div>

  <!-- Entrenador no encontrado -->
  <div class="reserva-card" *ngIf="!cargandoEntrenador && !entrenador">
    <div class="error-state">
      <nb-icon icon="alert-circle-outline" style="font-size: 3rem; color: #ff3d71;"></nb-icon>
      <h3>Entrenador no encontrado</h3>
      <p>El entrenador que buscas no existe o no est谩 disponible.</p>
      <button nbButton status="primary" (click)="router.navigate(['/entrenadores'])">
        Ver otros entrenadores
      </button>
    </div>
  </div>

  <div class="reserva-card" *ngIf="!cargandoEntrenador && entrenador">
    <!-- Header con bot贸n cerrar -->
    <div class="header-wrapper">
      <div>
        <h2 class="titulo-modal">Reservar con {{ entrenador?.nombre }} {{ entrenador?.apellidoPaterno }}</h2>
        <p class="subtitulo-modal">{{ entrenador?.deportes?.join(', ') || 'Entrenador' }}</p>
      </div>
      <button class="btn-close" (click)="cerrar()" title="Volver">
        <nb-icon icon="close-outline"></nb-icon>
      </button>
    </div>

    <!-- Indicador de pasos -->
    <div class="steps-indicator" *ngIf="!reservaConfirmada">
      <div *ngFor="let paso of pasos" class="step-item" [class.active]="pasoActual === paso.numero"
        [class.completed]="paso.completado" (click)="irAPaso(paso.numero)">
        <div class="step-circle">
          <nb-icon *ngIf="!paso.completado" [icon]="paso.icono"></nb-icon>
          <nb-icon *ngIf="paso.completado" icon="checkmark-outline"></nb-icon>
        </div>
        <span class="step-label">{{ paso.titulo }}</span>
      </div>
    </div>

    <!-- Contenedor de pasos -->
    <div class="wizard-content">

      <!-- PASO 1: Fecha y Hora -->
      <div class="paso-container" *ngIf="pasoActual === 1">
        <h3 class="paso-titulo">
          <nb-icon icon="calendar-outline"></nb-icon>
          驴Cu谩ndo te gustar铆a entrenar?
        </h3>

        <form [formGroup]="paso1Form" class="paso-form">
          <div class="form-group">
            <label>Fecha de la sesi贸n *</label>
            <input type="date" formControlName="fecha" class="form-input" [min]="fechaMinima" />
          </div>

          <!-- Selector de Horarios - Hora Inicio y Hora Fin -->
          <div class="form-group" *ngIf="paso1Form.get('fecha')?.value">
            <label>Horario de la sesi贸n *</label>
            <div *ngIf="cargandoHorarios" class="loading-horarios">
              <nb-spinner status="primary" size="small"></nb-spinner>
              <span>Cargando disponibilidad...</span>
            </div>
            
            <!-- Mensaje cuando el entrenador no tiene disponibilidad para ese d铆a -->
            <div *ngIf="!cargandoHorarios && rangosDelDia.length === 0" class="no-horarios-msg warning">
              <nb-icon icon="alert-circle-outline"></nb-icon>
              <span>El entrenador no tiene disponibilidad para este d铆a. Por favor selecciona otra fecha.</span>
            </div>
            
            <!-- Selectores de hora inicio y fin -->
            <div class="horario-rango-container" *ngIf="!cargandoHorarios && rangosDelDia.length > 0">
              <div class="hora-selector">
                <label class="hora-label">Desde</label>
                <select formControlName="horaInicio" class="form-select hora-select">
                  <option value="">Selecciona hora inicio</option>
                  <option *ngFor="let hora of horasInicio" [value]="hora">{{ hora }}</option>
                </select>
              </div>
              
              <div class="hora-flecha">
                <nb-icon icon="arrow-forward-outline"></nb-icon>
              </div>
              
              <div class="hora-selector">
                <label class="hora-label">Hasta</label>
                <select formControlName="horaFin" class="form-select hora-select" 
                        [disabled]="!paso1Form.get('horaInicio')?.value">
                  <option value="">Selecciona hora fin</option>
                  <option *ngFor="let hora of horasFin" [value]="hora">{{ hora }}</option>
                </select>
              </div>
            </div>

            <!-- Mostrar duraci贸n calculada -->
            <div class="duracion-info" *ngIf="getDuracionSesion() > 0">
              <nb-icon icon="clock-outline"></nb-icon>
              <span>Duraci贸n: <strong>{{ getDuracionFormateada() }}</strong></span>
            </div>

            <!-- Mostrar rangos disponibles del entrenador -->
            <div class="rangos-disponibles" *ngIf="!cargandoHorarios && rangosDelDia.length > 0">
              <small class="rangos-label">Horarios disponibles del entrenador:</small>
              <div class="rangos-chips">
                <span *ngFor="let rango of rangosDelDia" class="rango-chip">
                  {{ rango.inicio }} - {{ rango.fin }}
                  <span class="capacidad-badge" *ngIf="rango.capacidad > 1">m谩x {{ rango.capacidad }} pers.</span>
                </span>
              </div>
            </div>

            <small class="error-text" *ngIf="paso1Form.get('horaInicio')?.invalid && paso1Form.get('horaInicio')?.touched">
              Selecciona una hora de inicio
            </small>
            <small class="error-text" *ngIf="paso1Form.get('horaFin')?.invalid && paso1Form.get('horaFin')?.touched">
              Selecciona una hora de fin
            </small>
          </div>

          <!-- Mensaje cuando no hay fecha seleccionada -->
          <div class="form-group" *ngIf="!paso1Form.get('fecha')?.value">
            <div class="no-horarios-msg">
              <nb-icon icon="calendar-outline"></nb-icon>
              <span>Selecciona una fecha para ver los horarios disponibles</span>
            </div>
          </div>

          <div class="form-group">
            <label>N潞 Personas *</label>
            <input type="number" formControlName="cantidadPersonas" class="form-input" 
                   min="1" [max]="capacidadMaxima" />
            <small class="hint-text" *ngIf="capacidadMaxima > 1">
              Capacidad m谩xima: {{ capacidadMaxima }} personas
            </small>
            <small class="error-text" *ngIf="paso1Form.get('cantidadPersonas')?.hasError('excedeCupos')">
              隆Capacidad m谩xima del entrenador: {{ capacidadMaxima }} personas!
            </small>
          </div>

          <!-- Info de tipo de sesi贸n permitida -->
          <div class="form-group tipo-sesion-info" *ngIf="paso1Form.get('horaInicio')?.value && tipoSesionPermitida !== 'ambos'">
            <div class="tipo-badge" [class.individual]="tipoSesionPermitida === 'individual'" 
                 [class.grupal]="tipoSesionPermitida === 'grupal'">
              <nb-icon [icon]="tipoSesionPermitida === 'individual' ? 'person-outline' : 'people-outline'"></nb-icon>
              <span>Este horario es para sesiones {{ tipoSesionPermitida === 'individual' ? 'individuales' : 'grupales' }}</span>
            </div>
          </div>

          <div class="info-box" *ngIf="paso1Form.valid">
            <nb-icon icon="info-outline"></nb-icon>
            <div>
              <strong>Total:</strong> ${{ calcularPrecioTotal() }} MXN
              <br>
              <small>
                ${{ entrenador?.precio || 0 }} x {{ getDuracionFormateada() }} x {{
                paso1Form.get('cantidadPersonas')?.value }} persona(s)
              </small>
            </div>
          </div>
        </form>
      </div>

      <!-- PASO 2: Ubicaci贸n y Notas -->
      <div class="paso-container" *ngIf="pasoActual === 2">
        <h3 class="paso-titulo">
          <nb-icon icon="pin-outline"></nb-icon>
          Ubicaci贸n del Entrenamiento
        </h3>

        <form [formGroup]="paso2Form" class="paso-form">
          <!-- Direcci贸n del entrenador -->
          <div class="ubicacion-info">
            <div class="ubicacion-card">
              <nb-icon icon="navigate-outline" class="ubicacion-icon"></nb-icon>
              <div class="ubicacion-content">
                <h4>Direcci贸n del entrenamiento</h4>
                <p class="direccion-principal">{{ entrenador?.direccionEntrenamiento || 'No especificada' }}</p>
                <small class="text-muted" *ngIf="entrenador?.ubicacion?.ciudad">
                  {{ entrenador?.ubicacion?.ciudad }}
                </small>
              </div>
            </div>
            <p class="ubicacion-nota">
              <nb-icon icon="info-outline"></nb-icon>
              Esta es la ubicaci贸n donde se llevar谩 a cabo la sesi贸n presencial.
            </p>
          </div>

          <div class="form-group">
            <label>Notas adicionales</label>
            <textarea formControlName="notas" placeholder="驴Algo que el entrenador deba saber? (opcional)" class="form-textarea"
              rows="3"></textarea>
          </div>
        </form>
      </div>

      <!-- PASO 3: Datos del Cliente -->
      <div class="paso-container" *ngIf="pasoActual === 3">
        <h3 class="paso-titulo">
          <nb-icon icon="person-outline"></nb-icon>
          Tus datos de contacto
        </h3>

        <form [formGroup]="paso3Form" class="paso-form">
          <div class="form-group">
            <label>Nombre completo *</label>
            <input type="text" formControlName="nombre" placeholder="Tu nombre" class="form-input" />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>Email *</label>
              <input type="email" formControlName="email" placeholder="tu@email.com" class="form-input" />
            </div>
            <div class="form-group">
              <label>Tel茅fono *</label>
              <input type="tel" formControlName="telefono" placeholder="+52 999 123 4567" class="form-input" />
            </div>
          </div>

          <div class="terminos-wrapper">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="aceptaTerminos" />
              <span>Acepto los <a href="/terminos" target="_blank">t茅rminos y condiciones</a></span>
            </label>
          </div>
        </form>
      </div>

      <!-- PASO 4: Pago -->
      <div class="paso-container pago" *ngIf="pasoActual === 4 && !mostrarVoucherOxxo">
        <h3 class="paso-titulo">
          <nb-icon icon="credit-card-outline"></nb-icon>
          M茅todo de pago
        </h3>

        <div class="resumen-pago">
          <div class="resumen-precio-grande">
            <span class="label">Total a pagar</span>
            <span class="precio">${{ calcularPrecioTotal() }} MXN</span>
          </div>
        </div>

        <form [formGroup]="paso4Form" class="paso-form">
          <!-- Selector de m茅todo de pago -->
          <div class="metodos-pago-grid">
            <label class="metodo-pago-card" [class.selected]="paso4Form.get('metodoPago')?.value === 'tarjeta'">
              <input type="radio" formControlName="metodoPago" value="tarjeta" />
              <div class="metodo-content">
                <nb-icon icon="credit-card-outline"></nb-icon>
                <span class="metodo-titulo">Tarjeta</span>
                <span class="metodo-desc">Cr茅dito o d茅bito</span>
              </div>
            </label>

            <label class="metodo-pago-card" [class.selected]="paso4Form.get('metodoPago')?.value === 'oxxo'">
              <input type="radio" formControlName="metodoPago" value="oxxo" />
              <div class="metodo-content">
                <div class="oxxo-logo">
                  <span class="oxxo-text">OXXO</span>
                </div>
                <span class="metodo-titulo">OXXO</span>
                <span class="metodo-desc">Pago en efectivo</span>
              </div>
            </label>
          </div>

          <!-- Campos para TARJETA -->
          <div class="tarjeta-fields" *ngIf="paso4Form.get('metodoPago')?.value === 'tarjeta'">
            <div class="form-group">
              <label>N煤mero de tarjeta *</label>
              <input type="text" formControlName="numeroTarjeta" placeholder="1234 5678 9012 3456" class="form-input"
                maxlength="19" (input)="formatearTarjeta($event)" />
              <small class="error-text"
                *ngIf="paso4Form.get('numeroTarjeta')?.invalid && paso4Form.get('numeroTarjeta')?.touched">
                Ingresa un n煤mero de tarjeta v谩lido (16 d铆gitos)
              </small>
            </div>

            <div class="form-group">
              <label>Nombre del titular *</label>
              <input type="text" formControlName="nombreTitular" placeholder="Como aparece en la tarjeta"
                class="form-input" />
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Fecha de expiraci贸n *</label>
                <input type="text" formControlName="fechaExpiracion" placeholder="MM/AA" class="form-input" maxlength="5"
                  (input)="formatearFechaExpiracion($event)" />
                <small class="error-text"
                  *ngIf="paso4Form.get('fechaExpiracion')?.invalid && paso4Form.get('fechaExpiracion')?.touched">
                  Formato: MM/AA
                </small>
              </div>
              <div class="form-group">
                <label>CVV *</label>
                <input type="text" formControlName="cvv" placeholder="123" class="form-input" maxlength="4" />
                <small class="error-text" *ngIf="paso4Form.get('cvv')?.invalid && paso4Form.get('cvv')?.touched">
                  C贸digo de seguridad (3-4 d铆gitos)
                </small>
              </div>
            </div>
          </div>

          <!-- Campos para OXXO -->
          <div class="oxxo-fields" *ngIf="paso4Form.get('metodoPago')?.value === 'oxxo'">
            <div class="oxxo-info-box">
              <nb-icon icon="info-outline"></nb-icon>
              <div>
                <strong>驴C贸mo funciona?</strong>
                <ol>
                  <li>Generamos un voucher con tu referencia de pago</li>
                  <li>Ve a cualquier tienda OXXO y proporciona la referencia</li>
                  <li>Paga en efectivo el monto indicado</li>
                  <li>Tu reserva se confirma autom谩ticamente</li>
                </ol>
              </div>
            </div>

            <div class="form-group">
              <label>Email para recibir el voucher *</label>
              <input type="email" formControlName="emailOxxo" placeholder="tu@email.com" class="form-input" />
              <small class="hint-text">Te enviaremos el voucher a este correo</small>
              <small class="error-text"
                *ngIf="paso4Form.get('emailOxxo')?.invalid && paso4Form.get('emailOxxo')?.touched">
                Ingresa un email v谩lido
              </small>
            </div>

            <div class="oxxo-nota">
              <nb-icon icon="clock-outline"></nb-icon>
              <span>Tienes <strong>3 d铆as</strong> para realizar el pago en OXXO</span>
            </div>
          </div>

          <div class="terminos-wrapper">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="aceptaPoliticas" />
              <span>Acepto las <a href="/politicas-pago" target="_blank">pol铆ticas de pago</a> y <a href="/terminos"
                  target="_blank">t茅rminos y condiciones</a></span>
            </label>
          </div>

          <div class="info-seguridad">
            <nb-icon icon="lock-outline"></nb-icon>
            <span>Tu informaci贸n est谩 protegida con encriptaci贸n SSL</span>
          </div>
        </form>

        <button class="btn-pagar" (click)="procesarPago()" [disabled]="procesandoPago || !paso4Form.valid">
          <nb-spinner *ngIf="procesandoPago" size="small" status="control"></nb-spinner>
          <nb-icon icon="card-outline" *ngIf="!procesandoPago && paso4Form.get('metodoPago')?.value === 'tarjeta'"></nb-icon>
          <span *ngIf="!procesandoPago && paso4Form.get('metodoPago')?.value === 'oxxo'" class="oxxo-btn-text">OXXO</span>
          {{ procesandoPago ? 'Procesando...' : (paso4Form.get('metodoPago')?.value === 'oxxo' ? 'Generar voucher OXXO' : 'Pagar $' + calcularPrecioTotal() + ' MXN') }}
        </button>
      </div>

      <!-- VOUCHER OXXO - Dise帽o Profesional -->
      <div class="paso-container voucher-oxxo" *ngIf="pasoActual === 4 && mostrarVoucherOxxo && voucherOxxo">
        <h3 class="paso-titulo">
          <nb-icon icon="checkmark-circle-outline"></nb-icon>
          隆Voucher generado!
        </h3>

        <div class="voucher-card">
          <!-- Header con logo OXXO -->
          <div class="voucher-header">
            <div class="oxxo-logo-container">
              <!-- Logo OXXO SVG embebido -->
              <svg class="oxxo-logo-svg" viewBox="0 0 120 40" xmlns="http://www.w3.org/2000/svg">
                <rect x="0" y="0" width="120" height="40" rx="6" fill="#FFFFFF"/>
                <text x="60" y="28" text-anchor="middle" font-family="Arial Black, Arial, sans-serif" font-size="24" font-weight="900" fill="#D4292C">OXXO</text>
              </svg>
            </div>
            <span class="voucher-tipo">Ficha de pago</span>
            <div class="voucher-badge">
              <nb-icon icon="shield-outline"></nb-icon>
              Pago seguro
            </div>
          </div>

          <div class="voucher-divider">
            <span class="circle left"></span>
            <span class="line"></span>
            <span class="circle right"></span>
          </div>

          <div class="voucher-body">
            <!-- Monto destacado -->
            <div class="voucher-monto">
              <span class="label">MONTO A PAGAR</span>
              <span class="monto">${{ voucherOxxo.monto > 0 ? (voucherOxxo.monto | number:'1.2-2') : '350.00' }} MXN</span>
            </div>

            <!-- Referencia de pago -->
            <div class="voucher-referencia">
              <span class="label">REFERENCIA DE PAGO</span>
              <div class="referencia-box">
                <span class="referencia">{{ voucherOxxo.referencia || '0000 0000 0000 00' }}</span>
              </div>
              <button class="btn-copiar" (click)="copiarReferencia()">
                <nb-icon icon="copy-outline"></nb-icon>
                Copiar
              </button>
            </div>

            <!-- C贸digo de barras -->
            <div class="voucher-codigo-barras">
              <div class="barcode">
                <div class="barcode-lines">
                  <span *ngFor="let i of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]" 
                        class="bar" 
                        [style.height.px]="40 + (i % 3) * 5"
                        [style.width.px]="(i % 4) + 1"></span>
                </div>
                <span class="barcode-number">{{ voucherOxxo.codigoBarras || voucherOxxo.referencia }}</span>
              </div>
            </div>

            <!-- Fecha de expiraci贸n -->
            <div class="voucher-expiracion">
              <nb-icon icon="alert-triangle-outline"></nb-icon>
              <span>Paga antes del <strong>{{ voucherOxxo.fechaExpiracion | date:'dd/MM/yyyy HH:mm' }}</strong></span>
            </div>
          </div>

          <!-- Instrucciones -->
          <div class="voucher-instrucciones">
            <h4>
              <nb-icon icon="list-outline"></nb-icon>
              Instrucciones:
            </h4>
            <ol>
              <li>
                <span class="step-icon"></span>
                Acude a cualquier tienda <strong>OXXO</strong>
              </li>
              <li>
                <span class="step-icon"></span>
                Indica que deseas realizar un <strong>pago de servicio</strong>
              </li>
              <li>
                <span class="step-icon"></span>
                Proporciona la referencia: <strong>{{ voucherOxxo.referencia }}</strong>
              </li>
              <li>
                <span class="step-icon"></span>
                Paga <strong>${{ voucherOxxo.monto | number:'1.2-2' }} MXN</strong> en efectivo
              </li>
              <li>
                <span class="step-icon">Ь</span>
                Conserva tu ticket como comprobante
              </li>
            </ol>
          </div>

          <!-- Footer del voucher -->
          <div class="voucher-footer">
            <div class="footer-info">
              <nb-icon icon="clock-outline"></nb-icon>
              <span>Tu reserva se confirmar谩 autom谩ticamente al recibir el pago</span>
            </div>
          </div>
        </div>

        <div class="voucher-actions">
          <!-- Bot贸n para abrir voucher oficial de Stripe -->
          <a *ngIf="voucherOxxo?.hostedVoucherUrl" 
             [href]="voucherOxxo.hostedVoucherUrl" 
             target="_blank" 
             class="btn-stripe-voucher">
            <nb-icon icon="external-link-outline"></nb-icon>
            Ver voucher oficial
          </a>
          <button class="btn-secondary" (click)="descargarVoucher()">
            <nb-icon icon="download-outline"></nb-icon>
            Descargar voucher
          </button>
          <button class="btn-primary" (click)="confirmarPagoOxxo()">
            Continuar
            <nb-icon icon="arrow-forward-outline"></nb-icon>
          </button>
        </div>

        <p class="voucher-nota-final">
          <nb-icon icon="email-outline"></nb-icon>
          Tambi茅n enviamos el voucher a tu correo: <strong>{{ paso4Form.get('emailOxxo')?.value || paso3Form.get('email')?.value }}</strong>
        </p>
      </div>

      <!-- PASO 5: Confirmaci贸n / Resumen -->
      <div class="paso-container confirmacion" *ngIf="pasoActual === 5 && !reservaConfirmada">
        <h3 class="paso-titulo">
          <nb-icon icon="checkmark-circle-outline"></nb-icon>
          Confirma tu reserva
        </h3>

        <div class="resumen-reserva">
          <div class="resumen-item">
            <nb-icon icon="person-outline"></nb-icon>
            <div>
              <strong>Entrenador</strong>
              <p>{{ entrenador?.nombre }}</p>
            </div>
          </div>

          <div class="resumen-item">
            <nb-icon icon="calendar-outline"></nb-icon>
            <div>
              <strong>Fecha y Hora</strong>
              <p>{{ paso1Form.get('fecha')?.value | date:'fullDate':'':'es' }}</p>
              <small>{{ paso1Form.get('horaInicio')?.value }} - {{ paso1Form.get('horaFin')?.value }} ({{ getDuracionFormateada() }})</small>
            </div>
          </div>

          <div class="resumen-item">
            <nb-icon icon="people-outline"></nb-icon>
            <div>
              <strong>Personas</strong>
              <p>{{ paso1Form.get('cantidadPersonas')?.value }} persona(s)</p>
            </div>
          </div>

          <div class="resumen-item">
            <nb-icon icon="clock-outline"></nb-icon>
            <div>
              <strong>Duraci贸n</strong>
              <p>{{ getDuracionFormateada() }}</p>
            </div>
          </div>

          <div class="resumen-item">
            <nb-icon icon="pin-outline"></nb-icon>
            <div>
              <strong>Ubicaci贸n</strong>
              <p>{{ entrenador?.direccionEntrenamiento || 'Por confirmar' }}</p>
              <small class="text-muted">Sesi贸n presencial</small>
            </div>
          </div>

          <div class="resumen-item" *ngIf="pagoCompletado">
            <nb-icon icon="checkmark-circle-outline" style="color: #10B981;"></nb-icon>
            <div>
              <strong>Pago</strong>
              <p style="color: #10B981;">Pagado - ${{ calcularPrecioTotal() }} MXN</p>
            </div>
          </div>

          <div class="resumen-precio">
            <strong>Total pagado:</strong>
            <span class="precio">${{ calcularPrecioTotal() }} MXN</span>
          </div>
        </div>

        <button class="btn-confirmar" (click)="confirmarReserva()" [disabled]="enviando || !pagoCompletado">
          {{ enviando ? 'Confirmando...' : 'Confirmar Reserva' }}
        </button>
      </div>

      <!-- MENSAJE DE XITO -->
      <div class="paso-container exito" *ngIf="reservaConfirmada">
        <div class="icono-exito">
          <nb-icon icon="checkmark-circle-2-outline"></nb-icon>
        </div>

        <h3>隆Reserva Confirmada!</h3>

        <div class="numero-reserva">
          <p>N煤mero de reserva:</p>
          <strong>{{ numeroReserva }}</strong>
        </div>

        <p class="mensaje-exito">
          Hemos enviado un correo de confirmaci贸n a <strong>{{ paso3Form.get('email')?.value }}</strong>
        </p>

        <div class="acciones-exito">
          <button class="btn-whatsapp" (click)="contactarWhatsApp()">
            <nb-icon icon="message-circle-outline"></nb-icon>
            Contactar por WhatsApp
          </button>
          <button class="btn-cerrar" (click)="cerrar()">
            Volver al inicio
          </button>
        </div>
      </div>

    </div>

    <!-- Botones de navegaci贸n -->
    <div class="navigation-buttons" *ngIf="pasoActual < 5 && !reservaConfirmada && pasoActual !== 4">
      <button class="btn-anterior" (click)="anterior()" [disabled]="pasoActual === 1">
        <nb-icon icon="arrow-back-outline"></nb-icon>
        Anterior
      </button>

      <button class="btn-siguiente" (click)="siguiente()" [disabled]="!validarPasoActual()">
        Siguiente
        <nb-icon icon="arrow-forward-outline"></nb-icon>
      </button>
    </div>
  </div>
</div>